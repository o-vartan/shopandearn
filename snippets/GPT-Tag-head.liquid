<script async src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script>

<script>
	window.googletag = window.googletag || {cmd: []};
</script>

<!-- Start Pubwise Tag -->
<script type="text/javascript" src="//fdyn.pubwise.io/script/5d36dfc0-dc4c-437a-ab8d-66e76ac9c502/v3/dyn/pre_pws.js?type=default"></script>
<script type="text/javascript" src="//fdyn.pubwise.io/script/5d36dfc0-dc4c-437a-ab8d-66e76ac9c502/v3/dyn/pws.js?type=default" async></script>
<!-- End Pubwise Tag -->

<script>
	let gptadslots = [];

	googletag.cmd.push(function() {

		let mapping1 = googletag.sizeMapping()
			.addSize([1024, 400], [[728, 90], [970, 90], [970, 250]])
			.addSize([768, 400], [[728, 90]])
			.addSize([470, 400], [[320, 50], [320, 100], [300, 250]])
			.addSize([0, 0], [[320, 50], [320, 100], [300, 250]])
			.build();

		let mapping2 = googletag.sizeMapping()
			.addSize([1024, 400], [])
			.addSize([768, 400], [])
			.addSize([470, 400], [[320, 50], [320, 100], [300, 250]])
			.addSize([0, 0], [[320, 50], [320, 100], [300, 250]])
			.build();

		let mapping3 = googletag.sizeMapping()
			.addSize([1024, 400], [[728, 90], [970, 90], [970, 250]])
			.addSize([768, 400], [[728, 90]])
			.addSize([470, 400], [[320, 50], [320, 100]])
			.addSize([0, 0], [[320, 50], [320, 100]])
			.build();

		let mapping4 = googletag.sizeMapping()
			.addSize([1024, 400], [[300, 250], [300, 600], [160, 600]])
			.addSize([768, 400], [])
			.addSize([470, 400], [])
			.addSize([0, 0], [])
			.build();

		let mapping5 = googletag.sizeMapping()
			.addSize([1024, 400], ['fluid'])
			.addSize([0, 0], [])
			.build();

		let mapping6 = googletag.sizeMapping()
			.addSize([1024, 400], [])
			.addSize([768, 400], [])
			.addSize([470, 400], [[320, 50], [320, 100], [300, 250]])
			.addSize([0, 0], [[320, 50], [320, 100], [300, 250]])
			.build();

		let mapping7 = googletag.sizeMapping()
			.addSize([1024, 400], [])
			.addSize([470, 400], ['fluid'])
			.addSize([0, 0], ['fluid'])
			.build();

		let mapping8 = googletag.sizeMapping()
			.addSize([1024, 400], [[728, 90], [970, 90]])
			.addSize([768, 400], [[728, 90]])
			.addSize([470, 400], [[320, 50], [320, 100], [300, 250]])
			.addSize([0, 0], [[320, 50], [320, 100], [300, 250]])
			.build();

		let mapping9 = googletag.sizeMapping()
			.addSize([1024, 400], [[728, 90], [970, 90]])
			.addSize([768, 400], [])
			.addSize([470, 400], [])
			.addSize([0, 0], [])
			.build();

//Homepage
		gptadslots['div-gpt-ad-Home-ATF'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Home-ATF')
			.setTargeting('POS', ['ATF'])
			.defineSizeMapping(mapping1)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Home-Mid1'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Home-Mid1')
			.setTargeting('POS', ['Mid1'])
			.defineSizeMapping(mapping1)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Home-Mid2'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Home-Mid2')
			.setTargeting('POS', ['Mid2'])
			.defineSizeMapping(mapping1)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Home-BTF'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Home-BTF')
			.setTargeting('POS', ['BTF'])
			.defineSizeMapping(mapping2)
			.addService(googletag.pubads());

//Category
		gptadslots['div-gpt-ad-Category-ATF'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Category-ATF')
			.setTargeting('POS', ['ATF'])
			.defineSizeMapping(mapping3)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-LeftRail'] = googletag.defineSlot('/22211372382/Permission_IO', [[300,250]], 'div-gpt-ad-Category-LeftRail')
			.setTargeting('POS', ['LeftRail'])
			.defineSizeMapping(mapping4)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Inline1'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Category-DT-Inline1')
			.setTargeting('POS', ['DT-Inline1'])
			.defineSizeMapping(mapping9)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Inline2'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Category-DT-Inline2')
			.setTargeting('POS', ['DT-Inline2'])
			.defineSizeMapping(mapping9)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Inline3'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Category-DT-Inline3')
			.setTargeting('POS', ['DT-Inline3'])
			.defineSizeMapping(mapping9)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Inline4'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-Category-DT-Inline4')
			.setTargeting('POS', ['DT-Inline4'])
			.defineSizeMapping(mapping9)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Native1'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-DT-Native1')
			.setTargeting('POS', ['DT-Native1'])
			.defineSizeMapping(mapping5)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Native2'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-DT-Native2')
			.setTargeting('POS', ['DT-Native2'])
			.defineSizeMapping(mapping5)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Native3'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-DT-Native3')
			.setTargeting('POS', ['DT-Native3'])
			.defineSizeMapping(mapping5)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-DT-Native4'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-DT-Native4')
			.setTargeting('POS', ['DT-Native4'])
			.defineSizeMapping(mapping5)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Inline1'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Category-MW-Inline1')
			.setTargeting('POS', ['MW-Inline1'])
			.defineSizeMapping(mapping6)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Inline2'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Category-MW-Inline2')
			.setTargeting('POS', ['MW-Inline2'])
			.defineSizeMapping(mapping6)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Inline3'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Category-MW-Inline3')
			.setTargeting('POS', ['MW-Inline3'])
			.defineSizeMapping(mapping6)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Inline4'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Category-MW-Inline4')
			.setTargeting('POS', ['MW-Inline4'])
			.defineSizeMapping(mapping6)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Inline5'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Category-MW-Inline5')
			.setTargeting('POS', ['MW-Inline5'])
			.defineSizeMapping(mapping6)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Inline6'] = googletag.defineSlot('/22211372382/Permission_IO', [[320,50]], 'div-gpt-ad-Category-MW-Inline6')
			.setTargeting('POS', ['MW-Inline6'])
			.defineSizeMapping(mapping6)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Native1'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-MW-Native1')
			.setTargeting('POS', ['MW-Native1'])
			.defineSizeMapping(mapping7)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Native2'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-MW-Native2')
			.setTargeting('POS', ['MW-Native2'])
			.defineSizeMapping(mapping7)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Native3'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-MW-Native3')
			.setTargeting('POS', ['MW-Native3'])
			.defineSizeMapping(mapping7)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Native4'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-MW-Native4')
			.setTargeting('POS', ['MW-Native4'])
			.defineSizeMapping(mapping7)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Native5'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-MW-Native5')
			.setTargeting('POS', ['MW-Native5'])
			.defineSizeMapping(mapping7)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-Category-MW-Native6'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Category-MW-Native6')
			.setTargeting('POS', ['MW-Native6'])
			.defineSizeMapping(mapping7)
			.addService(googletag.pubads());

//Product Detail
		gptadslots['div-gpt-ad-ProductDetail-ATF'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-ProductDetail-ATF')
			.setTargeting('POS', ['ATF'])
			.defineSizeMapping(mapping3)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-ProductDetail-RightRail'] = googletag.defineSlot('/22211372382/Permission_IO', [[300,250]], 'div-gpt-ad-ProductDetail-RightRail')
			.setTargeting('POS', ['RightRail'])
			.defineSizeMapping(mapping4)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-ProductDetail-Mid1'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-ProductDetail-Mid1')
			.setTargeting('POS', ['Mid1'])
			.defineSizeMapping(mapping8)
			.addService(googletag.pubads());
		gptadslots['div-gpt-ad-ProductDetail-Mid2'] = googletag.defineSlot('/22211372382/Permission_IO', [[728,90]], 'div-gpt-ad-ProductDetail-Mid2')
			.setTargeting('POS', ['Mid2'])
			.defineSizeMapping(mapping8)
			.addService(googletag.pubads());

//Deals
		gptadslots['div-gpt-ad-Deals-Native1'] = googletag.defineSlot('/22211372382/Permission_IO_Native', 'fluid', 'div-gpt-ad-Deals-Native1')
			.setTargeting('POS', ['Native1'])
			.addService(googletag.pubads());

// Product video
		gptadslots['div-gpt-ad-1532060-2'] = googletag.defineSlot('/22211372382/PIO_ProductVideo', [[320,50],[320,100]], 'div-gpt-ad-1532060-2')
			.addService(googletag.pubads());

		googletag.pubads().setTargeting('URL', [window.location.href]) //pass actual URL dynamically in place of "Value". Use pathname instead of href
			.setTargeting('Environment', [{%- render 'env' -%}])
			.setTargeting('UserId', [getCookie('_authorised')])
			.setTargeting('Category', [ShopifyAnalytics?.product?.type]); //pass actual shopping category dynamically in place of "Value"
		googletag.enableServices();
	});

	function getCookie(name) {
		let matches = document.cookie.match(new RegExp(
			"(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
		));
		return matches ? decodeURIComponent(matches[1]) : undefined;
	}
</script>
